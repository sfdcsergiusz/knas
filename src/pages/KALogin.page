<apex:page title="Knowledge Assessment" showHeader="false" sidebar="false" controller="KALoginController" docType="HTML-5.0">
	<apex:stylesheet value="{!URLFOR($Resource.style)}"/>
	<apex:include pageName="KANavigationBar"/>

	<apex:outputpanel>
		<apex:actionstatus id="loadingStatus">
			<apex:facet name="start">
				<div class="waitingSearchDiv" id="el_loading" style="background-color: #fbfbfb;	height: 100%; opacity: 0.45; width: 100%;">
					<div class="waitingHolder">
    					<img class="waitingImage" src="{!$Resource.spinner}"/>
					</div>
				</div>
			</apex:facet>
		</apex:actionstatus>
	</apex:outputpanel>

	<apex:form>
		<div style="width: 100%; height: 100%;">
			<div style="width: 50%; margin: auto; position: relative; top: 140px;">
				<apex:outputPanel id="messages">
					<h2 style="left: 40%; position: relative;">
						<apex:outputLabel rendered="{!isSend}" value="Please, check your e-mail to create new password"/>
						<apex:outputLabel rendered="{!noSend}" value="Wrong username" style="color: rgb(202, 86, 86) !important;"/>
					</h2>
				</apex:outputPanel>
				<apex:pageBlock>
					<apex:actionFunction name="setIdentifier" action="{!setIdentifier}" reRender="inputSection" status="loadingStatus">
						<apex:param name="mainId" value=""/>
					</apex:actionFunction>

					<script>
						setIdentifier(browserId);
					</script>

					<apex:pageBlockButtons location="bottom">
						<apex:commandButton value="SIGN IN" action="{!login}" styleClass="btn btn-success"/>
						<apex:commandButton value="Sign Up" action="{!register}" styleClass="btn btn-warning"/>
						<apex:commandButton value="Reset Password" action="{!resetPass}" styleClass="btn btn-link" title="Send new password to your email" reRender="messages"/>
					</apex:pageBlockButtons>

					<apex:pageBlockSection id="inputSection" columns="1">

						<apex:pageBlockSectionItem>
							<apex:outputLabel for="inputUsername" value="Login: "/>
							<apex:inputText id="inputUsername" value="{!username}" html-placeholder="Please, input your email login..." required="false"/>
						</apex:pageBlockSectionItem>
						<apex:pageBlockSectionItem>
							<apex:outputLabel for="inputPass" value="Password: "/>
							<apex:inputSecret id="inputPass" value="{!password}" html-placeholder="Please, input your password..." required="false"/>
						</apex:pageBlockSectionItem>
					</apex:pageBlockSection>

				</apex:pageBlock>
			</div>
		</div>
	</apex:form>

</apex:page>